<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Savoldi Freiland Shop</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/feather-icons"></script>

  <style>
    /* Buttons grÃ¼n */
    .btn-green {
      background:#008231;
      color:white;
      transition: background 0.2s ease;
    }
    .btn-green:hover { background:#00691a; }

    /* Header Navigation */
    .nav-btn {
      padding: 0.35rem 0.7rem;
      border-radius: 0.5rem;
      font-weight: 500;
      font-size: 0.875rem;
      color: #374151;
      transition: all 0.2s ease;
    }
    @media (min-width: 640px) {
      .nav-btn {
        padding: 0.5rem 0.9rem;
        font-size: 1rem;
      }
    }
    .nav-btn:hover {
      background: rgba(0,130,49,0.1);
      color: #008231;
    }
    .nav-btn.active {
      background: #008231;
      color: white;
    }

    /* Produktbilder */
    .product-img {
      height:160px;
      width:100%;
      object-fit:cover;
      border-radius:0.75rem;
    }

    /* Logo */
    .logo-img {
      height:55px;
    }
    @media (min-width: 640px) {
      .logo-img {
        height:65px;
      }
    }

    /* Badge */
    .badge {
      position:absolute;
      top:0.5rem;
      left:0.5rem;
      background:#ff3030;
      color:white;
      font-size:0.75rem;
      font-weight:600;
      padding:0.25rem 0.5rem;
      border-radius:0.25rem;
    }
  </style>
</head>

<body class="bg-gray-50 min-h-screen flex flex-col overflow-x-hidden">

<!-- HEADER -->
<header class="bg-white shadow sticky top-0 z-50 px-4 py-3 flex justify-between items-center">
  <img src="images/logo-new.png" class="logo-img" alt="Savoldi Freiland">

  <nav class="flex gap-1 sm:gap-2 items-center">
    <button class="nav-btn active" onclick="navigate('home')">Home</button>
    <button class="nav-btn" onclick="navigate('shop')">Shop</button>
    <button class="nav-btn" onclick="navigate('contact')">Kontakt</button>

    <button onclick="toggleCart()" class="relative ml-1 sm:ml-2 text-lg">
      ðŸ›’
      <span id="cart-count"
        class="absolute -top-2 -right-2 bg-[#008231] text-white text-xs w-5 h-5 rounded-full flex items-center justify-center">
        0
      </span>
    </button>
  </nav>
</header>

<!-- CART OVERLAY -->
<div id="cart-overlay" class="hidden fixed inset-0 bg-black/40 z-40" onclick="toggleCart()"></div>

<!-- CART -->
<div id="cart"
  class="fixed right-0 top-0 h-full w-full sm:w-80 bg-white shadow-lg z-50 transform translate-x-full transition p-5 flex flex-col">

  <h2 class="text-xl font-semibold mb-4">Warenkorb</h2>

  <div id="cart-items" class="flex-1 space-y-3 overflow-auto"></div>

  <div class="border-t pt-3 font-semibold">
    Gesamt: CHF <span id="cart-total">0.00</span>
  </div>

  <button onclick="checkout()" class="btn-green mt-4 py-2 rounded">
    Zur Kasse
  </button>
</div>

<!-- MAIN -->
<main class="flex-1 p-4 sm:p-6 space-y-12">

<!-- HOME -->
<section id="home-page"
  class="relative text-white text-center h-80 sm:h-96 flex flex-col justify-center items-center"
  style="background-image:url('images/home-banner.jpg'); background-size:cover; background-position:center;">

  <h2 class="text-3xl sm:text-4xl font-bold mb-3 drop-shadow-lg">
    Frische Freilandeier
  </h2>

  <p class="text-base sm:text-lg mb-6 drop-shadow-md">
    Regional, nachhaltig & persÃ¶nlich
  </p>

  <button class="btn-green px-6 py-3 rounded" onclick="navigate('shop')">
    Jetzt bestellen
  </button>
</section>

<!-- SHOP -->
<section id="shop-page" class="hidden">
  <h2 class="text-2xl font-semibold mb-6">Unsere Produkte</h2>
  <div id="products" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
</section>

<!-- CONTACT -->
<section id="contact-page" class="hidden max-w-md mx-auto">
  <h2 class="text-2xl font-semibold mb-4">Kontakt</h2>

  <form action="https://formspree.io/f/FORM_CONTACT_ID" method="POST" class="space-y-3">
    <input name="name" placeholder="Name" class="w-full border p-2 rounded" required>
    <input name="email" type="email" placeholder="E-Mail" class="w-full border p-2 rounded" required>
    <textarea name="message" placeholder="Nachricht" class="w-full border p-2 rounded" required></textarea>
    <button class="btn-green w-full py-2 rounded">Absenden</button>
  </form>
</section>

<!-- CHECKOUT -->
<section id="checkout-page" class="hidden max-w-2xl mx-auto space-y-6">
  <h2 class="text-2xl font-semibold">Checkout</h2>

  <div class="bg-white p-4 rounded shadow">
    <h3 class="font-semibold mb-3">BestellÃ¼bersicht</h3>
    <div id="checkout-summary" class="space-y-2"></div>
    <div class="border-t mt-3 pt-2 flex justify-between font-semibold">
      <span>Gesamt</span>
      <span>CHF <span id="checkout-total">0.00</span></span>
    </div>
  </div>

  <form id="checkout-form" action="https://formspree.io/f/FORM_CHECKOUT_ID" method="POST" class="space-y-3">
    <input name="name" placeholder="Name" class="w-full border p-2 rounded" required>
    <input name="email" type="email" placeholder="E-Mail" class="w-full border p-2 rounded" required>
    <input name="address" placeholder="Adresse" class="w-full border p-2 rounded" required>

    <div class="flex gap-4">
      <label><input type="radio" name="payment" value="TWINT" checked> TWINT</label>
      <label><input type="radio" name="payment" value="Rechnung"> Rechnung</label>
    </div>

    <textarea name="order" id="order-field" class="hidden"></textarea>
    <button class="btn-green w-full py-2 rounded">Bestellung abschicken</button>
  </form>
</section>

</main>

<!-- FOOTER -->
<footer class="bg-[#008231] text-white p-6 text-sm">
  <div class="max-w-4xl mx-auto grid sm:grid-cols-4 gap-6">
    <div>
      <h4 class="font-semibold flex items-center gap-2"><i data-feather="home"></i> Ãœber uns</h4>
      <p>Savoldi Freiland</p>
      <p>Ebnet 15</p>
      <p>5504 Othmarsingen</p>
    </div>
    <div>
      <h4 class="font-semibold flex items-center gap-2"><i data-feather="mail"></i> Kontakt</h4>
      <p>info@savoldi-freiland.ch</p>
      <p>+41 79 797 79 79</p>
    </div>
    <div>
      <h4 class="font-semibold flex items-center gap-2"><i data-feather="clock"></i> Ã–ffnungszeiten</h4>
      <p>Moâ€“Fr: 08:00 â€“ 17:00 Uhr</p>
      <p>Saâ€“So: Geschlossen</p>
    </div>
    <div>
      <h4 class="font-semibold flex items-center gap-2"><i data-feather="credit-card"></i> Zahlung</h4>
      <p>TWINT</p>
      <p>Rechnung</p>
    </div>
  </div>
  <p class="text-center mt-6">Â© 2026 Savoldi Freiland, realisiert von TwoNet</p>
</footer>

<script>
feather.replace();

/* NAVIGATION */
function navigate(page) {
  ['home','shop','contact','checkout'].forEach(p =>
    document.getElementById(p+'-page').classList.add('hidden')
  );
  document.getElementById(page+'-page').classList.remove('hidden');

  document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
  const map = { home:0, shop:1, contact:2 };
  if (map[page] !== undefined) {
    document.querySelectorAll('.nav-btn')[map[page]].classList.add('active');
  }
}

/* CART */
let cart = [];

const products = [
  { id:4, name:'Eierabo', price:null, desc:'WÃ¶chentliche Lieferung frischer Freilandeier.', img:'images/eier-abo.jpg', onRequest:true, badge:'Beliebt' },
  { id:1, name:'6er Freilandeier', price:4.5, desc:'Frisch vom Hof â€“ ideal fÃ¼r den Alltag.', img:'images/eier-6er.jpg' },
  { id:2, name:'10er Freilandeier', price:7, desc:'Perfekt fÃ¼r Familien & Vielkocher.', img:'images/eier-10er.jpg' },
  { id:3, name:'30er Freilandeier', price:19.5, desc:'Vorteilspackung fÃ¼r Backen & Vorrat.', img:'images/eier-30er.jpg' }
];

const productsEl = document.getElementById('products');

products.forEach(p => {
  const div = document.createElement('div');
  div.className = 'bg-white p-4 rounded shadow relative';
  div.innerHTML = `
    ${p.badge ? `<div class="badge">${p.badge}</div>` : ''}
    <img src="${p.img}" class="product-img mb-3">
    <h3 class="font-semibold">${p.name}</h3>
    <p class="text-gray-600 text-sm mb-2">${p.desc}</p>
    ${
      p.onRequest
        ? `<select id="size-${p.id}" class="w-full border p-1 rounded mb-2">
             <option>6er</option><option>10er</option><option>30er</option>
           </select>
           <p class="text-[#008231] font-semibold mb-2">Preis auf Anfrage</p>
           <button class="btn-green w-full py-2 rounded" onclick="addAbo(${p.id})">Abo anfragen</button>`
        : `<p class="font-semibold mb-2">CHF ${p.price.toFixed(2)}</p>
           <button class="btn-green w-full py-2 rounded" onclick="addToCart(${p.id})">In den Warenkorb</button>`
    }
  `;
  productsEl.appendChild(div);
});

const cartEl = document.getElementById('cart');
const overlay = document.getElementById('cart-overlay');

function toggleCart() {
  cartEl.classList.toggle('translate-x-full');
  overlay.classList.toggle('hidden');
}

function addToCart(id) {
  const p = products.find(x => x.id === id);
  const e = cart.find(x => x.id === id);
  e ? e.qty++ : cart.push({ ...p, qty:1 });
  renderCart(); toggleCart();
}

function addAbo(id) {
  const size = document.getElementById(`size-${id}`).value;
  cart.push({ name:'Eierabo', size, qty:1, price:null });
  renderCart(); toggleCart();
}

function renderCart() {
  let total = 0;
  const el = document.getElementById('cart-items');
  el.innerHTML = '';
  cart.forEach(i => {
    if (i.price) total += i.price * i.qty;
    el.innerHTML += `
      <div class="border-b pb-2">
        <strong>${i.name}</strong>
        ${i.size ? `<div class="text-sm text-gray-500">${i.size}, wÃ¶chentlich</div>` : ''}
        <div>${i.price ? `CHF ${(i.price*i.qty).toFixed(2)}` : '<span class="text-[#008231]">Preis auf Anfrage</span>'}</div>
      </div>`;
  });
  document.getElementById('cart-total').textContent = total.toFixed(2);
  document.getElementById('cart-count').textContent = cart.reduce((a,b)=>a+b.qty,0);
}

function checkout() {
  navigate('checkout');
  toggleCart();
  updateCheckout();
}

function updateCheckout() {
  let total = 0;
  const el = document.getElementById('checkout-summary');
  el.innerHTML = '';
  cart.forEach(i => {
    if (i.price) {
      total += i.price * i.qty;
      el.innerHTML += `<div class="flex justify-between"><span>${i.name}</span><span>CHF ${(i.price*i.qty).toFixed(2)}</span></div>`;
    } else {
      el.innerHTML += `<div class="flex justify-between text-[#008231]"><span>${i.name} (${i.size})</span><span>Preis auf Anfrage</span></div>`;
    }
  });
  document.getElementById('checkout-total').textContent = total.toFixed(2);
}

document.getElementById('checkout-form').addEventListener('submit', () => {
  document.getElementById('order-field').value =
    cart.map(i => i.price ? i.name : `${i.name} (${i.size}) â€“ Preis auf Anfrage`).join('\n');
});
</script>

</body>
</html>


